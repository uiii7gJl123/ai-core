<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>AI Debugger — تشخيص مشاكل الربط</title>

<style>
:root {
  --text: #e2e8f0;
  --input-bg: rgba(255,255,255,0.05);
  --input-border: rgba(255,255,255,0.15);
  --button-grad-1: #3b82f6;
  --button-grad-2: #10b981;
}

/* ===== الخلفية العامة وتوسيط النموذج ===== */
body {
  margin: 0;
  min-height: 100vh;
  width: 100vw;
  background: radial-gradient(circle at top, #0f172a 0, #020617 45%, #000 100%);
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  color: var(--text);
  display: flex;
  justify-content: center;
  align-items: center;     /* توسيط عمودي أيضًا */
  padding: 24px 0;
}

/* حاوية الصفحة كاملة */
.page {
  width: 100%;
  max-width: 480px;         /* الحجم العام */
  padding: 0 16px;          /* مسافة من الحواف */
  text-align: center;
}

/* النموذج */
form {
  width: 100%;
  max-width: 360px;         /* الحجم الفعلي للنموذج */
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  gap: 14px;
}

/* العناوين */
h1 {
  font-size: 20px;
  margin-bottom: 8px;
  font-weight: 700;
}

p.subtitle {
  font-size: 13px;
  opacity: 0.8;
  margin-bottom: 22px;
}

/* ===== الحقول ===== */
label {
  font-size: 13px;
  margin-bottom: 4px;
  text-align: right;
}

input, textarea, select {
  width: 100%;
  padding: 12px;
  border-radius: 10px;
  background: var(--input-bg);
  border: 1px solid var(--input-border);
  color: var(--text);
  font-size: 14px;
  outline: none;
  transition: 0.3s;
}

input:focus, textarea:focus, select:focus {
  border-color: #3b82f6;
  background: rgba(255,255,255,0.08);
}

textarea {
  resize: none;
  height: 90px;
}

/* ===== الزر ===== */
button {
  width: 100%;
  padding: 14px;
  background: linear-gradient(90deg, var(--button-grad-1), var(--button-grad-2));
  border: none;
  color: white;
  border-radius: 10px;
  font-size: 16px;
  cursor: pointer;
  margin-top: 10px;
  transition: 0.25s;
}

button:hover {
  opacity: 0.9;
}
</style>
</head>

<body>
<div class="page">

  <h1>تشخيص مشاكل الربط بين الواجهة الأمامية والخلفية</h1>
  <p class="subtitle">أدخل روابط مشروعك ورسالة الخطأ، وسيتم تشخيص مصدر المشكلة (Frontend / Backend) مع خطوات الحل.</p>

  <form id="debugForm" onsubmit="event.preventDefault(); analyze();">

    <label>رابط الواجهة الأمامية (Frontend URL)</label>
    <input id="frontend" placeholder="https://my-frontend.com">

    <label>رابط الواجهة الخلفية (Backend URL / API)</label>
    <input id="backend" placeholder="https://api.myapp.com">

    <label>نوع الواجهة الأمامية</label>
    <select id="frontendType">
      <option>React + Vite</option>
      <option>Next.js</option>
      <option>Vue</option>
      <option>HTML / JS</option>
      <option>Angular</option>
    </select>

    <label>نوع الواجهة الخلفية</label>
    <select id="backendType">
      <option>FastAPI</option>
      <option>Node.js (Express)</option>
      <option>Laravel</option>
      <option>Django</option>
      <option>Spring Boot</option>
    </select>

    <label>رسالة الخطأ من المتصفح أو Postman</label>
    <textarea id="errorMsg" placeholder="اكتب رسالة الخطأ كاملة هنا..."></textarea>

    <button type="submit">حل المشكلة الآن</button>
  </form>
</div>

<script>
async function analyze() {
  const data = {
    frontend: document.getElementById("frontend").value,
    backend: document.getElementById("backend").value,
    frontendType: document.getElementById("frontendType").value,
    backendType: document.getElementById("backendType").value,
    error: document.getElementById("errorMsg").value
  };

  const response = await fetch("/analyze", {
    method: "POST",
    headers: {"Content-Type": "application/json"},
    body: JSON.stringify(data)
  });

  const text = await response.text();
  alert(text);
}
</script>

</body>
</html>